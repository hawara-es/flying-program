const Program = require( "../src/program" );

let generateSalutations = {
  description: "Its second and final declaration `sayHello` generates a " +
    "salutation string for each of the person names generated by the first " +
    "declaration `yieldPeople`.",
  declarations: {
    yieldPeople: {
      generator: true,
      function: function*() {
        let people = [ "Emmy", "Albert", "David", "Sofia" ];
        for( const person of people )
          yield person;
      }
    },
    sayHello: {
      generator: true,
      input: [ "string" ],
      function: function*( person ) {
        yield `Hello, ${person}!`;
      }
    },
    log: {
      generator: false,
      function: function( salutations ) {
        for( const salutation of salutations )
          console.log( salutation );
      }
    }
  },
  orders: {
    function: function*() {
      yield "yieldPeople";
      yield "sayHello";
      yield "log";
    }
  }
}

module.exports = Program( generateSalutations );
